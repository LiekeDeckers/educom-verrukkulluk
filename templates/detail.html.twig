{% extends "main.html.twig" %}

{% block header %}
{% endblock %}


{# content #}
{% block content %}
{#
    <script>
        $(document).ready( function() {
            
            $(".star").click( function() {
                const value = $(this).attr('data-value')

                $(".star").removeClass('orange')

                $(".star").each(index, elem) => {
                    const itemValue = $(elem).attr('data-value')
                    if(itemValue <= value) {
                    $(elem).addClass('orange')
                    }
                }
            })

            $.ajax({
            url: "https://api.dev-master.ninja/js/rating",
            method: "POST",
            data: { rating: value },
            success: function(result) { 
            }
            })
        })
    </script>
#}
    {% for record in data %}
        <div class="row"> 
            <div class="col-md-11 m-5 mt-5" style="background-color: var(--kahki)">
                <div class="row">
                    {# foto #}
                    <div class="col-md-6 gerecht_foto">
                        <img src="assets/img/burger.jpg" alt="burger">
                    </div>

                    <div class="col-md-6" style="background-color: var(--kahki)">
                        <div class="row">
                            {# prijs en calorieen #}
                            <div class="col-md-12 mb-4 mt-3">
                                <i class="fa fa-user-friends" style="color: red"></i> 4 &emsp;
                                <i class="fa fa-euro-sign" style="color: red"></i> {{record.prijs_gerecht}},- &emsp;
                                <i class="fa fa-fire" style="color: red"></i> {{record.calorieen}}        
                            </div>

                            {# titel #}  
                            <div class="col-md-6">
                                <h2 style="color: var(--darker-green)">{{ record.titel }}</h2>
                            </div>
                            {# waardering #}
                            <div class="col-md-6">
                                <span class="star" data-value="1">*</span>
                                <span class="star" data-value="2">*</span>
                                <span class="star" data-value="3">*</span>
                                <span class="star" data-value="4">*</span>
                                <span class="star" data-value="5">*</span>
                            </div>

                            {# omschrijving #}
                            <div class="col-md-12 mt-4">
                                <div class="lange_omschrijving" style="height: 450px"><p>{{record.lange_omschrijving}}</p>
                                </div>
                            </div>

                            {# op lijst #} 
                            <div class="col-md-6">
                                <a style="text-decoration: none" href="index.php?gerecht_id={{record.id}}&action=boodschappenlijst">
                                    <center><h3 style="background-color: var(--lighter-red); border-radius:20px; color: white; width: 120px">Op lijst</h3></center>
                                </a>
                            </div>
                            {# favoriet #}
                            <div class="col-md-6">
                                <center><p><i class="far fa-heart" style="font-size: 48px; color: red"></i></p></center>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {# tabs #} 
        <div class="row">   
            <div class="col-md-11 m-5 mt-5" style="background-color: var(--kahki); height: 500px">
                
                <div class="container">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#home"><h3 style="color: var(--darker-green)">IngrediÃ«nten</h3></a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#menu1"><h3 style="color: var(--darker-green)">Bereidingswijze</h3></a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#menu2"><h3 style="color: var(--darker-green)">Opmerkingen</h3></a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div id="home" class="container tab-pane active"><br>
                            <div class="row">
                            {% for record in record.ingredienten %}
                                {# foto artikel #}
                                <div class="col-md-2 mb-2" style="background-color: pink">
                                    <img src={{ record.afbeelding }}>
                                </div>

                                <div class="col-md-10">
                                    <div class="row">
                                        {# naam ingredient #}
                                        <div class="col-md-12">
                                            <h2 style="color: var(--darker-green)">{{ record.naam }}</h2>
                                        </div>
                                        {# omschrijving #}
                                        <div class="col-md-12">
                                            <p>{{ record.omschrijving }}</p>
                                        </div>
                                        {# hoeveelheid #}
                                        <div class="col-md-12">
                                            <p><h5 style="color: var(--darker-green)">Hoeveelheid:</h5>{{ record.aantal }} {{ record.eenheid }}</p>
                                        </div>
                                    </div>
                                </div> 
                            {% endfor %}
                            </div>
                        </div>
                        
                        {# bereidingswijze #}
                        <div id="menu1" class="container tab-pane fade"><br>
                            
                            {% for record in data.0.bereidingswijze %}
                            <div class="row">
                                <div class="col-md-1 mb-2" style="background-color: var(--lighter-orange); height: 80px; border-radius: 100px; color: white">
                                    <center><p><br>{{ record.nummeriekveld }}</p></center>
                                </div>

                                <div class="col-md-11">
                                    <p><br>{{ record.tekstveld }}</p>
                                </div> 
                            </div>
                            {% endfor %}
                            
                        </div>

                        {# opmerkingen #}
                        <div id="menu2" class="container tab-pane fade"><br>
                            
                            {% for record in data.0.opmerkingen %}

                            <div class="row">
                                <div class="col-md-2 mb-2" style="background-color: pink">
                                    <img src={{ record.afbeelding }}>
                                </div>

                                <div class="col-md-10">
                                    <h2 style="color: var(--darker-green)">{{ record.user_name }}</h2>
                                    <p>{{ record.tekstveld }}</p>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

            </div>
        </div>

    {% endfor %}
        
{% endblock %}
