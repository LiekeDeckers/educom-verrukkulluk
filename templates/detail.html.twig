{% extends "main.html.twig" %}

{% block header %}
{% endblock %}


{# content #}
{% block content %}
    <script>
        $(document).ready( function() {
            
            $(".star").click( function() {
                const value = $(this).attr('data-value')

                $(".star").removeClass('orange')

                $(".star").each(index, elem) => {
                    const itemValue = $(elem).attr('data-value')
                    if(itemValue <= value) {
                    $(elem).addClass('orange')
                    }
                }
            })
        })
    </script>

    {% for record in data %}
        <div class="row"> 
            <div class="col-md-12 m-5 mt-5" style="background-color: var(--kahki); width: 1300px">
                <div class="row">
                    {# foto #}
                    <div class="col-md-6 gerecht_foto">
                        <img src="assets/img/burger.jpg" alt="burger">
                    </div>

                    <div class="col-md-6" style="background-color: var(--kahki)">
                        <div class="row">
                            {# prijs en calorieen #}
                            <div class="col-md-12 mb-4 mt-3">
                                <i class="fa fa-user-friends" style="color: red"></i> 4 &emsp;
                                <i class="fa fa-euro-sign" style="color: red"></i> {{record.prijs_gerecht}},- &emsp;
                                <i class="fa fa-fire" style="color: red"></i> {{record.calorieen}}        
                            </div>

                            {# titel #}  
                            <div class="col-md-6">
                                <h2 style="color: var(--darker-green)">{{ record.titel }}</h2>
                            </div>
                            {# waardering #}
                            <div class="col-md-6">
                                <p>sterren</p>
                                <span class="star" data-value="1">*</span>
                                <span class="star" data-value="2">*</span>
                                <span class="star" data-value="3">*</span>
                                <span class="star" data-value="4">*</span>
                                <span class="star" data-value="5">*</span>
                            </div>

                            {# omschrijving #}
                            <div class="col-md-12 mt-4">
                                <div class="lange_omschrijving"><p>{{record.lange_omschrijving}}</p>
                                <br><br><br><br><br><br><br><br><br><br>
                                </div>
                            </div>

                            {# op lijst #} 
                            <div class="col-md-6">
                                <p>op lijst</p>
                            </div>
                            {# favoriet #}
                            <div class="col-md-6">
                                <p>hartje</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {# tabs #} 
        <div class="row">   
            <div class="col-md-12 m-5 mt-5" style="background-color: var(--kahki); width: 1300px">
                
                <div class="container">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#home">Ingredienten</a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#menu1">Bereidingswijze</a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#menu2">Opmerkingen</a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div id="home" class="container tab-pane active"><br>
                            <div class="row">
                            {% for ingr in record.ingredienten %}
                                {# foto artikel #}
                                <div class="col-md-2 mb-2" style="background-color: pink">
                                    <img src="{{ record.afbeelding }}">
                                </div>

                                <div class="col-md-10">
                                    <div class="row">
                                        {# naam ingredient #}
                                        <div class="col-md-12">
                                            <h3>{{ record.naam }}</h3>
                                        </div>
                                        {# omschrijving #}
                                        <div class="col-md-12">
                                            <p>{{ record.omschrijving }}</p>
                                        </div>
                                        {# hoeveelheid #}
                                        <div class="col-md-12">
                                            <h5>Hoeveelheid:</h5><p>{{ record.omschrijving }}</p>
                                        </div>
                                    </div>
                                </div> 
                            {% endfor %}
                            </div>
                        </div>
                        
                        {# bereidingswijze #}
                        <div id="menu1" class="container tab-pane fade"><br>
                            <div class="row">
                            {% for record in data.0.bereidingswijze %}
                                <div class="col-md-2 mb-2" style="background-color: pink">
                                    <p>{{ record.nummeriekveld }}</p>
                                </div>

                                <div class="col-md-10">
                                    <p>{{ record.tekstveld }}</p>
                                </div> 
                            {% endfor %}
                            </div>
                        </div>

                        {# opmerkingen #}
                        <div id="menu2" class="container tab-pane fade"><br>
                            <div class="row">
                            {% for record in data.0.opmerkingen %}
                                <div class="col-md-2 mb-2" style="background-color: pink">
                                    <p>{{ record.afbeelding }}</p>
                                </div>

                                <div class="col-md-10">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <p>{{ record.user_name }}</p>
                                        </div>
                                        <div class="col-md-12">
                                            <p>{{ record.opmerking }}</p>
                                        </div>
                                    </div>
                                </div> 
                            {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    {% endfor %}
        
{% endblock %}
